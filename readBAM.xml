<tool id="readBAM" name="BAM-to-RData" version="0.1">
  <requirements>
    <container type="docker">mmbirb/nucldyn</container>
  </requirements>
  <description>Convert aligned BAM files to RData format for NucleosomeDynamics</description>
  <command>
    docker run -v /gpfs/database/files:/data_dir -u 1000  mmbirb/nucldyn galaxy readBAM --input $bam_file --output $rdata_file --type $seq_type
  </command>
  <inputs>
    <param name="bam_file" type="data" format="bam" label="BAM File to convert"/>
    <param name="seq_type" type="select" label="Type of sequence reads">
      <option value="single">Single</option>
      <option value="paired">Paired</option>
    </param>
  </inputs>
  <outputs>
    <data format="rdata" name="rdata_file" label="${bam_file.name}.rdata"/>
  </outputs>
</tool>
      
