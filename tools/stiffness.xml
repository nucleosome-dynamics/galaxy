<tool id="stiffness" name="Stiffness" version="0.1">
  <description>: analyze stiffness of nucleosome positioning</description>
  <requirements>
  <requirement type="binary">docker</requirement>
  </requirements>
  <command>
	<![CDATA[
	  docker run -v $__root_dir__/database/files:$__root_dir__/database/files -v /tmp:/tmp -u `id -u`:`id -g` mmbirb/nucleosome-dynamics stiffness --calls $gff_file --reads $rdata_file --output $output_gff_file --range $range
	]]>
  </command>
  <inputs>
    <param name="gff_file" type="data" format="gff" label="Nucleosome calls (GFF)" help="Nucleosome calls in GFF format as obtained from nucleR."/>
    <param name="rdata_file" type="data" format="rdata" label="Input MNase-seq/ATAC-seq reads (RData)" help="Input BAM file in RData format as generated by readBAM"/>
    <param name="range" size="4" type="text" value="All" label="Genomic Range" help="Genomic region to be analyzed: whole genome ('all'), entire chromosome (chromosome name i.e. 'chrX'), or region of a chromosome ('chromosomeName:start-end)." />  
</inputs>
  <outputs>
    <data format="gff" name="output_gff_file" label="STF__${os.path.splitext(($gff_file.name.split('__'))[1])[0]}.gff" />
  </outputs>
  <tests>
	  <test>
		  <param name="gff_file" value="NR__cellcycleM_chrII.gff" />
		  <param name="rdata_file" value="readBAM__cellcycleM_chrII.RData" />
		  <param name="range" value="All" />
		  <output name="output_gff_file" file="STF__cellcycleM_chrII.gff" />
	  </test>
  </tests>
     <help>
.. image:: ${static_path}/images/NucleosomeDynamicsLogo.png
    :height: 80
    :width: 200

-----

Nucleosome Dynamics is a set of tools that take MNase-seq and ATAC-seq aligned reads and performs a serie of nucleosome-related analyses on them.

.. class:: infomark

Visit the  documentation of the original application for learning more about the accepted values and formats. http://mmb.irbbarcelona.org/NucleosomeDynamics/help/usage/nucleosome-dynamics
     </help>
   <citations>
        <citation type="bibtex">
@misc{github,
  author = {Buitrago D},
  year = {2019},
  title = {Nucleosome Dynamics suite: containerized installation},
  publisher = {GitHub},
  journal = {GitHub repository},
  url = {https://github.com/nucleosome-dynamics/nucleosome_dynamics},
}</citation>
 </citations>
</tool>
